(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{207:function(s,a,t){"use strict";t.r(a);var r=t(0),n=Object(r.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"关于文档-文档的自动编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关于文档-文档的自动编译"}},[s._v("#")]),s._v(" 关于文档 - 文档的自动编译")]),s._v(" "),t("blockquote",[t("p",[s._v("文档托管在Github，有几种选择：Github自带的Github Actions，或者插件Travis CI， 或者插件Circle CI。@pdai")])]),s._v(" "),t("h3",{attrs:{id:"travis-ci"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#travis-ci"}},[s._v("#")]),s._v(" Travis CI")]),s._v(" "),t("blockquote",[t("p",[s._v("注意：Travis CI有个坑爹的地方要注意：它有travis.com和travis.org两个网站，一个是对公有项目，一个是对私有项目；然后，github是可以在公有和私有项目中切换的，于是在切换后，一些配置可能无法正确设置。")])]),s._v(" "),t("h4",{attrs:{id:"github-启用插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#github-启用插件"}},[s._v("#")]),s._v(" Github 启用插件")]),s._v(" "),t("p",[s._v("进入 https://github.com/marketplace/travis-ci")]),s._v(" "),t("p",[t("img",{attrs:{src:"/_images/blog/blog-ci-1.png",alt:""}})]),s._v(" "),t("h4",{attrs:{id:"配置插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置插件"}},[s._v("#")]),s._v(" 配置插件")]),s._v(" "),t("p",[t("img",{attrs:{src:"/_images/blog/blog-ci-2.png",alt:""}})]),s._v(" "),t("h4",{attrs:{id:"添加-travis-yml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加-travis-yml"}},[s._v("#")]),s._v(" 添加.travis.yml")]),s._v(" "),t("blockquote",[t("p",[s._v("注意：这里只是简单做编译操作，您可以将编译的结果（静态的html文件）强制推送至当前仓库专门放编译后文件的分支；也可以在自己的服务器上安装travis-cli，在travis.com(注意不是travis.org)生成证书信息（自动生成相关环境变量），来进行自动化部署。")])]),s._v(" "),t("p",[s._v("这里上述两种方案都没有采用，是因为：")]),s._v(" "),t("ul",[t("li",[s._v("1）travis-cli对私有项目自动添加证书信息支持不够；")]),s._v(" "),t("li",[s._v("2）同时本文档中静态资源较多，拉取编译结果较大；")]),s._v(" "),t("li",[s._v("3）github 拉较大资源速度稳定性无法保障，原因你懂的；相对来说用webhook方式已经够了。")])]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("language"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" node_js\n\nsudo"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\nnode_js"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  - "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"12"')]),s._v("\n\ncache"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  yarn"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  directories"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n    - node_modules\n\nbranches"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  only"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n    - master\n\nenv"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  global"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n    - GITHUB_REPO"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" github.com/realpdai/tech-arch-doc.git\n\nbefore_install"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  - export TZ=Asia/Shanghai\n\nscript"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  - vuepress build\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])]),t("h4",{attrs:{id:"触发编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#触发编译"}},[s._v("#")]),s._v(" 触发编译")]),s._v(" "),t("p",[t("img",{attrs:{src:"/_images/blog/blog-ci-4.png",alt:""}})]),s._v(" "),t("h4",{attrs:{id:"查看最后提交编译状况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看最后提交编译状况"}},[s._v("#")]),s._v(" 查看最后提交编译状况")]),s._v(" "),t("p",[t("img",{attrs:{src:"/_images/blog/blog-ci-5.png",alt:""}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/_images/blog/blog-ci-6.png",alt:""}})]),s._v(" "),t("h4",{attrs:{id:"生成build-状态svg"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成build-状态svg"}},[s._v("#")]),s._v(" 生成build 状态svg")]),s._v(" "),t("p",[t("img",{attrs:{src:"/_images/blog/blog-ci-3.png",alt:""}})])])}),[],!1,null,null,null);a.default=n.exports}}]);